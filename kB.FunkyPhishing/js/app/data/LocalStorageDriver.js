app.data.LocalStorageDriver=function(){var e=Class.inherit(this,app.data.MemoryDriver);var a={};a.inMemory=[];e.init=function(){};e.cleanup=function(){};e.get=function(r,o){if(!a.inMemory[r]&&app.data.LocalStorageDriver.supported){if(localStorage[""+r]===undefined){return o}var t=JSON.parse(localStorage[""+r]);e.base.set(r,t);a.inMemory[r]=true;return t}return e.base.get(r,o)};e.set=function(r,o){if(app.data.LocalStorageDriver.supported){localStorage[""+r]=JSON.stringify(o)}e.base.set(r,o);a.inMemory[r]=true};e.remove=function(r){if(app.data.LocalStorageDriver.supported){localStorage.removeItem[""+r]}e.base.remove(r);delete a.inMemory[r]}};app.data.LocalStorageDriver.supported="localStorage"in window&&window["localStorage"]!==null;