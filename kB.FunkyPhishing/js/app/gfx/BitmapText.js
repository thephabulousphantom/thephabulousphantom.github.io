app.gfx.BitmapText=function(i,t,e,n,s,r,p,o,h){var f=Class.inherit(this,app.gfx.SpritePool,[i,t,e,n.length,s,r,p,o]);var a={};a.size=i|0;a.letters=""+n;a.x=1*s;a.y=1*r;a.tempPosition={x:1*s,y:1*r};a.width=1*p;a.height=1*o;a.spacing=h?1*h:1*p;a.sprites=new Array;a.text="";f.init=function(i,t){f.base.init(i,t);for(var e=0;e<a.size;e++){a.sprites.push(null)}};f.position=function(i,t){if(i!==undefined){a.x=1*i;a.y=1*t}a.tempPosition.x=a.x;a.tempPosition.y=a.y;return a.tempPosition};f.size=function(i,t){if(i!==undefined){if(t!==undefined){a.height=1*t}else{a.height=1*i/a.width*a.height}a.width=1*i}a.tempPosition.x=a.width;a.tempPosition.y=a.height;return a.tempPosition};f.spacing=function(i){if(i!==undefined){a.spacing=1*i}return a.spacing};f.text=function(i){if(i!==undefined){i=""+i;var t=s-(i.length+1)*a.spacing/2;var e=r-a.height/2;for(var n=0;n<i.length;n++){var p=a.letters.indexOf(i.charAt(n));if(a.sprites[n]){a.sprites[n].frame(p);a.sprites[n].position.x=t;a.sprites[n].position.y=e}else{a.sprites[n]=f.get(t,e,a.width,a.height,p)}t+=a.spacing}for(n=i.length;n<a.size;n++){if(a.sprites[n]){a.sprites[n].hide();a.sprites[n]=null}}a.text=i}return a.text};f.cleanup=function(){f.base.cleanup();a=null;f=null}};