app.input.MouseDriver=function(e){var n=Class.inherit(this,app.input.Driver);var t={};t.x=0;t.y=0;t.clickEventName=e?e:"mousedown";t.clickHandler=function(e){var n=e?e:window.event;if((n.clientX||n.clientY)&&document.body&&document.body.scrollLeft!=null){t.x=n.clientX+document.body.scrollLeft|0;t.y=n.clientY+document.body.scrollTop|0}if((n.clientX||n.clientY)&&document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.scrollLeft!=null){t.x=n.clientX+document.documentElement.scrollLeft|0;t.y=n.clientY+document.documentElement.scrollTop|0}if(n.pageX||n.pageY){t.x=n.pageX|0;t.y=n.pageY|0}var c=app.Command.get("click",app.input.MouseDriver.clickDelay);c.x(t.x);c.y(t.y);app.Application.commands.enqueue(c);if(e.preventDefault){e.preventDefault()}return false};n.init=function(){document.addEventListener(t.clickEventName,t.clickHandler,false)};n.cleanup=function(){document.removeEventListener(t.clickEventName,t.clickHandler,false)}};app.input.MouseDriver.clickDelay=0;