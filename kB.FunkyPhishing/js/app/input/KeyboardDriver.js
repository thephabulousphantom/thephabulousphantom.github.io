app.input.KeyboardDriver=function(){var e=Class.inherit(this,app.input.Driver);var r={};r.keydownHandler=function(e){var r=e?e:window.event;switch(r.keyCode||e.which){case app.input.KeyboardDriver.key.Escape:case app.input.KeyboardDriver.key.Backspace:app.Application.commands.enqueue(app.Command.get("back",app.input.KeyboardDriver.keyDelay));if(r.preventDefault){r.preventDefault()}else{r.returnValue=false}return false;case app.input.KeyboardDriver.key.Enter:app.Application.commands.enqueue(app.Command.get("altaction",app.input.KeyboardDriver.keyDelay));if(r.preventDefault){r.preventDefault()}else{r.returnValue=false}return false;case app.input.KeyboardDriver.key.Space:app.Application.commands.enqueue(app.Command.get("action",app.input.KeyboardDriver.keyDelay));if(r.preventDefault){r.preventDefault()}else{r.returnValue=false}return false;default:break}};e.init=function(){document.addEventListener("keydown",r.keydownHandler,false)};e.cleanup=function(){document.removeEventListener("keydown",r.keydownHandler,false)}};app.input.KeyboardDriver.browser="Standard";app.input.KeyboardDriver.key={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,PrintScreen:44,Insert:45,Delete:46,Key0:48,Key1:49,Key2:50,Key3:51,Key4:52,Key5:53,Key6:54,Key7:55,Key8:56,Key9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,Comma:188,Dot:190,Slash:191,Apostrophe:192,BracketOpen:219,Backslash:220,BracketClosed:221,Quote:222,Colon:app.input.KeyboardDriver.browser=="Opera"||app.input.KeyboardDriver.browser=="Firefox"?59:186,Equal:app.input.KeyboardDriver.browser=="Opera"?61:app.input.KeyboardDriver.browser=="Firefox"?107:187,Minus:app.input.KeyboardDriver.browser=="Opera"||app.input.KeyboardDriver.browser=="Firefox"?109:189,Windows:app.input.KeyboardDriver.browser=="Opera"?219:91,Menu:app.input.KeyboardDriver.browser=="Opera"?0:93};app.input.KeyboardDriver.keyDelay=0;