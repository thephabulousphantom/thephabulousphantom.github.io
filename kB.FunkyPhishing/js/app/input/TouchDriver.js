app.input.TouchDriver=function(){var e=Class.inherit(this,app.input.Driver);var t={};t.x=0;t.y=0;t.inited=false;t.clickHandler=function(e){var n=e.touches[0];t.x=0;t.y=0;if((n.clientX||n.clientY)&&document.body&&document.body.scrollLeft!=null){t.x=n.clientX+document.body.scrollLeft;t.y=n.clientY+document.body.scrollTop}if((n.clientX||n.clientY)&&document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.scrollLeft!=null){t.x=n.clientX+document.documentElement.scrollLeft;t.y=n.clientY+document.documentElement.scrollTop}if(n.pageX||n.pageY){t.x=n.pageX;t.y=n.pageY}var c=app.Command.get("click",app.input.TouchDriver.touchDelay);c.x(t.x);c.y(t.y);c.time(c.time());app.Application.commands.enqueue(c);if(e.preventDefault){e.preventDefault()}return false};e.init=function(){if(!t.inited){document.addEventListener("touchstart",t.clickHandler,false);t.inited=true}};e.cleanup=function(){if(t.inited){document.removeEventListener("touchstart",t.clickHandler,false);t.inited=false}}};app.input.TouchDriver.touchDelay=0;